$(function(){$(document).on("click","#sign-up-btn",function(){$("html, body").animate({scrollTop:0},800);signUpClickFunction()});$(document).on("click","#sign-in-btn",function(){$("html, body").animate({scrollTop:0},800);signInClickFunction(!1)});errormsg&&signInClickFunction(!1);var a=window.location.search;if(a){a.slice(-1)=="/"&&(a=a.substring(0,a.length-1));paramPairs=a.substr(1).split("&");for(a=0;a<paramPairs.length;++a){var b=paramPairs[a].split("="),c=b[1];if(b[0]=="email"){$("#email").val(c);break}}}a=window.location.href;a=a.substring(a.length-4);if(a=="/#si"||a=="/#su")a=="/#si"?signInClickFunction(!1):signUpClickFunction(),window.location.hash="",history.pushState("",document.title,window.location.pathname);$(document).on("click","#cancel-btn",function(){console.log("cancel btn clicked");$(".sform").attr("action","/register/");$(".submit input").attr("value",gettext("Sign Up"));$(this).hasClass("sign-up")?$(this).html(gettext("Sign Up")).attr("id","sign-up-btn").attr("title",gettext("Click to sign up")):$(this).html(gettext("Sign In")).attr("id","sign-in-btn").attr("title",gettext("Click to login"));$(".intro-wrapper").hide();showAll()});$("input").val()&&$(":text[value!='']").parent().addClass("hasome");$("input").keyup(function(){$(this).parent().not(".remember").addClass("hasome");$(this).val().length||$(this).parent().removeClass("hasome")}).blur(function(){$(this).val().length||$(this).parent().removeClass("hasome")})});function signUpClickFunction(){$(".error").hide();$(".sform").attr("action","/register/");isSigningUp=!0;$(".signinup-intro h3").html(gettext("Get Started"));$(".signinup-intro p").html(gettext("With just 10 seconds to create a free account, you can start learning right away!"));$("#cancel-btn").html(gettext("Sign In")).attr("id","sign-in-btn").attr("title",gettext("Click to login"));$("#sign-up-btn").html(gettext("Home")).attr("id","cancel-btn").attr("title",gettext("Click to go back to homepage"));$(".input .name").css("display","block");$(".resetpwd, .create-account, .remember").hide();$(".submit input").attr("value",gettext("Sign Up"));$(".or").css("margin-left","25px");$(".fb-button .text").html(gettext("Sign up with Facebook"));$(".fb-button").attr("title",gettext("Click to Sign up with Facebook"));closeNav();showSignInUpForm();redisplayEmailAddress("#email",!0)}redisplayEmailAddress("#email2",!0);function redisplayEmailAddress(a,b){function c(){b&&$(a+"-conf-msg").html(gettext("Next times, you will login using the above email: ")+"<strong>"+$(a).val()+"</strong>").show()}var d;$(a).keyup(function(){clearTimeout(d);$(a).val()!=""&&(d=setTimeout(c,500))})}
function signInClickFunction(a){if(a||$("#sign-in-btn").is(":visible")||$("#sign-in").is(":visible"))isSigningUp=!1,$("#email-conf-msg").hide(),$(".error").show(),$(".sform").attr("action","/"),$(".signinup-intro h3").html(gettext("Login")),a="",errormsg==""&&(a=gettext("Hello. It's great to see you again!")),$(".signinup-intro p").html(a),$("#cancel-btn").html(gettext("Sign Up")).attr("id","sign-up-btn").attr("title",gettext("Click to sign up")),$("#sign-in-btn").html(gettext("Home")).attr("id","cancel-btn").attr("title",gettext("Click to go back to homepage")),$(".input .name").hide(),$(".resetpwd, .create-account, .remember").show(),$(".submit input").attr("value",gettext("Login")),$(".or").css("margin-left","15px"),isMobileBrowser?$(".fb-button .text").html(gettext("With Facebook")):$(".fb-button .text").html(gettext("Login with Facebook")),$(".fb-button").attr("title",gettext("Click to Login with Facebook")),closeNav(),showSignInUpForm()}
function closeNav(){$(".navbar-nav").removeClass("open");$(".navbar-toggle").removeClass("active")}function showAll(){$(".banner, .vocabulary, .wordbook, .map, .signup-block, .footer").show()}function gotoSignUpForm(){$("html, body").animate({scrollTop:0},800);$("#sign-up-btn").click()}
function showSignInUpForm(){$(".header").addClass("fixed");isMobileBrowser?$(".intro-wrapper, .sform").show():($(".intro-wrapper").css({"background-color":"#018dcb",height:"auto","border-radius":"10px"}).show().animate({width:"670px",margin:"100px auto"},500),$(".sform").fadeIn(500))};